<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–î–ª—è –º–æ–µ–π –û–ª–∏</title>
    
    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" href="https://img.icons8.com/dusk/64/000000/heart-with-arrow.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@500;700&family=Nunito:wght@500;700;800&family=SF+Mono:wght@400&family=Roboto+Mono:wght@500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --card-light: rgba(255, 255, 255, 0.65);
            --card-border-light: rgba(255, 255, 255, 0.4);
            --text-main-light: #1d1d1f;
            --text-sub-light: #86868b;
            
            --card-dark: rgba(30, 30, 35, 0.7);
            --card-border-dark: rgba(255, 255, 255, 0.15);
            --text-main-dark: #f0f0f2;
            --text-sub-dark: #a0a0a5;

            --accent: #ff3b30;
            --accent-glow: rgba(255, 59, 48, 0.5);
            
            --blur: blur(30px);
            --shadow: 0 10px 40px -10px rgba(0,0,0,0.15);
            
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #f5f5f7; /* Fallback */
            color: var(--text-main-light);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
            /* Important: Make body transparent so fixed backgrounds show through */
            background: transparent;
        }

        /* --- DYNAMIC BACKGROUNDS --- */
        
        .bg-mesh {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            z-index: -2;
            opacity: 0; transition: opacity 0.8s ease-in-out;
            background-size: cover;
        }
        .bg-mesh.active { opacity: 1; }

        /* LIGHT MODE GRADIENTS - Made slightly deeper for contrast with white Snow/Lights */
        #bg-snow {
            /* Deeper blue at top to see white snow */
            background: radial-gradient(at 30% 0%, #dbeafe 0%, transparent 60%), 
                        radial-gradient(at 70% 0%, #bfdbfe 0%, transparent 60%),
                        #eff6ff;
        }
        #bg-spring {
            background: radial-gradient(at 10% 10%, #ffe4e6 0%, transparent 50%), 
                        radial-gradient(at 90% 0%, #fecdd3 0%, transparent 50%),
                        #fff1f2;
        }
        #bg-rain {
            /* Darker grey at top for visible rain */
            background: radial-gradient(at 50% 0%, #94a3b8 0%, transparent 70%),
                        #cbd5e1;
        }

        /* DARK MODE GRADIENTS & OVERRIDES */
        body.dark-mode { color: var(--text-main-dark); }
        
        body.dark-mode #bg-snow {
            background: radial-gradient(circle at 50% -20%, #172a45 0%, #0a0a0a 80%);
        }
        body.dark-mode #bg-spring {
            background: radial-gradient(circle at 50% -20%, #3e1f26 0%, #0a0a0a 80%);
        }
        body.dark-mode #bg-rain {
            background: radial-gradient(circle at 50% -20%, #252b36 0%, #050505 80%);
        }

        #canvas-fx { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

        /* --- GARLAND (Fairy Lights) --- */
        .garland-wrap {
            position: fixed; top: 0; left: 0; width: 100%; height: 60px; z-index: 100;
            display: flex; justify-content: space-between; pointer-events: none;
            opacity: 0; transition: opacity 0.5s; padding: 0 20px;
        }
        .garland-wrap.active { opacity: 1; }

        .string-segment {
            flex: 1; position: relative;
            /* Darker wire for Light Mode so it's visible against sky */
            border-top: 1px solid rgba(80, 80, 80, 0.5);
            border-radius: 50%; height: 20px; margin-top: -8px;
            display: flex; justify-content: space-around;
            transform-origin: top center;
            animation: gentleSway 5s ease-in-out infinite alternate;
        }
        /* Lighter wire for Dark Mode */
        .dark-mode .string-segment { border-top-color: rgba(255,255,255,0.2); }

        .micro-led {
            width: 4px; height: 4px; border-radius: 50%;
            margin-top: -2px;
            background: #fff;
            position: relative;
        }
        
        /* LIGHT MODE LEDS: Stronger colors/shadows to compete with daylight */
        .led-warm { background: #ffb347; box-shadow: 0 0 6px #ff9e2c; }
        .led-cool { background: #5bc0de; box-shadow: 0 0 6px #2a9fd6; }
        .led-pink { background: #ff69b4; box-shadow: 0 0 6px #ff1493; }
        
        /* DARK MODE LEDS: Soft, wide glow */
        .dark-mode .led-warm { background: #ffdfba; box-shadow: 0 0 15px #ffdfba; }
        .dark-mode .led-cool { background: #cceeff; box-shadow: 0 0 15px #cceeff; }
        .dark-mode .led-pink { background: #ffbbcc; box-shadow: 0 0 15px #ffbbcc; }

        @keyframes gentleSway { from { transform: rotate(-1deg) translateY(0); } to { transform: rotate(1deg) translateY(2px); } }

        /* --- CONTROLS --- */
        .control-dock {
            position: fixed; top: calc(15px + var(--safe-top)); left: 50%; transform: translateX(-50%);
            background: rgba(240, 240, 240, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            padding: 4px; border-radius: 100px; display: flex; gap: 6px; z-index: 200;
            border: 1px solid rgba(255,255,255,0.4);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .dark-mode .control-dock { background: rgba(40,40,40,0.6); border-color: rgba(255,255,255,0.1); }

        .dock-btn {
            width: 42px; height: 42px; border-radius: 50%; border: none; background: transparent;
            font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }
        .dock-btn.active { background: #fff; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transform: scale(1.05); }
        .dark-mode .dock-btn.active { background: rgba(255,255,255,0.2); }
        .dock-btn:active { transform: scale(0.95); }

        /* --- LAYOUT --- */
        .app-layout {
            max-width: 500px; margin: 0 auto;
            padding: calc(90px + var(--safe-top)) 20px 100px;
            position: relative; z-index: 10;
        }

        header { text-align: center; margin-bottom: 30px; }
        h1 {
            font-family: 'Caveat', cursive; font-size: 56px; margin: 0; line-height: 0.9;
            color: var(--text-main-light); text-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .dark-mode h1 { color: var(--text-main-dark); text-shadow: 0 2px 20px rgba(0,0,0,0.8); }
        
        .subtitle {
            font-size: 13px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px;
            color: var(--text-sub-light); margin-top: 10px;
        }
        .dark-mode .subtitle { color: var(--text-sub-dark); }

        /* --- GLASS PANEL --- */
        .glass-panel {
            background: var(--card-light); backdrop-filter: var(--blur); -webkit-backdrop-filter: var(--blur);
            border: 1px solid var(--card-border-light);
            border-radius: 32px; padding: 24px; margin-bottom: 24px;
            box-shadow: var(--shadow);
            transition: background 0.3s, border-color 0.3s;
        }
        .dark-mode .glass-panel {
            background: var(--card-dark); border-color: var(--card-border-dark);
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        /* --- FLIGHT --- */
        .flight-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px; }
        .city-code { font-size: 32px; font-weight: 800; line-height: 1; letter-spacing: -1px; }
        .city-name { font-size: 12px; font-weight: 600; text-transform: uppercase; color: var(--text-sub-light); }
        .dark-mode .city-name { color: var(--text-sub-dark); }

        #flight-viz { width: 100%; height: 130px; position: relative; }
        
        .track-path { fill: none; stroke: var(--text-sub-light); stroke-width: 2; stroke-dasharray: 6 6; opacity: 0.3; }
        .active-path { fill: none; stroke: var(--accent); stroke-width: 3; stroke-linecap: round; filter: drop-shadow(0 0 8px var(--accent-glow)); }

        #plane-wrapper {
            position: absolute; top: 0; left: 0; width: 40px; height: 40px;
            will-change: transform; pointer-events: none;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .plane-emoji { font-size: 38px; line-height: 1; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2)); transform: rotate(90deg); }

        .pct-pill {
            position: absolute; top: -30px;
            background: rgba(255,255,255,0.9); backdrop-filter: blur(12px);
            padding: 5px 12px; border-radius: 12px;
            font-family: 'Roboto Mono', monospace; font-size: 12px; font-weight: 700; color: #000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); white-space: nowrap;
        }
        .dark-mode .pct-pill { background: rgba(60,60,60,0.9); color: #fff; box-shadow: 0 4px 15px rgba(0,0,0,0.4); }

        /* TIMER & CALENDAR */
        .countdown {
            text-align: center; font-family: 'Roboto Mono', monospace; font-size: 30px; font-weight: 700;
            margin-top: 15px; color: var(--text-main-light); letter-spacing: -1px;
        }
        .dark-mode .countdown { color: var(--text-main-dark); }
        
        .timer-caption { text-align: center; font-size: 13px; color: var(--text-sub-light); margin-bottom: 5px; }
        .dark-mode .timer-caption { color: var(--text-sub-dark); }
        
        .dates-meta { display: flex; justify-content: space-between; font-size: 11px; font-weight: 700; color: var(--text-sub-light); opacity: 0.6; margin-top: 20px; }
        .dark-mode .dates-meta { color: var(--text-sub-dark); opacity: 0.8; }

        /* CALENDAR GRID */
        .month-title { font-size: 18px; font-weight: 800; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
        
        .day-item {
            aspect-ratio: 1; border-radius: 14px;
            background: rgba(0,0,0,0.03);
            display: flex; justify-content: center; align-items: center;
            font-size: 15px; font-weight: 700; color: var(--text-sub-light);
            position: relative; cursor: pointer; transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .dark-mode .day-item { background: rgba(255,255,255,0.06); color: var(--text-main-dark); }

        .day-item.future { opacity: 0.3; cursor: default; }
        
        .day-item.today {
            background: transparent; border: 2px solid var(--accent); color: var(--accent);
            box-shadow: 0 0 20px var(--accent-glow); z-index: 2; transform: scale(1.1);
        }
        
        .day-item.opened {
            background: var(--accent); color: #fff;
            box-shadow: 0 5px 15px var(--accent-glow);
        }
        
        .day-item.missed {
            background: transparent; border: 1px dashed var(--accent); color: var(--accent);
        }
        
        .day-item:active { transform: scale(0.92); }

        .mini-heart {
            position: absolute; bottom: 3px; right: 3px; font-size: 9px;
            color: rgba(255,255,255,0.9);
        }

        /* --- MODAL --- */
        .modal-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            z-index: 2000; opacity: 0; pointer-events: none; transition: opacity 0.3s;
            display: flex; align-items: center; justify-content: center; padding: 20px;
        }
        .modal-layer.active { opacity: 1; pointer-events: all; }

        .letter-box {
            background: #fff; width: 100%; border-radius: 40px; padding: 32px; text-align: center;
            transform: scale(0.9) translateY(40px); transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
        }
        .dark-mode .letter-box { background: #1c1c1e; color: #fff; border: 1px solid rgba(255,255,255,0.1); }
        .modal-layer.active .letter-box { transform: scale(1) translateY(0); }

        .quote-text {
            font-family: 'Caveat', cursive; font-size: 30px; line-height: 1.3; margin: 24px 0;
            color: #1d1d1f;
        }
        .dark-mode .quote-text { color: #f5f5f7; }

        .action-btn {
            background: #1d1d1f; color: #fff; border: none; width: 100%; padding: 18px;
            border-radius: 24px; font-weight: 700; font-size: 16px; cursor: pointer;
            transition: transform 0.2s;
        }
        .dark-mode .action-btn { background: #fff; color: #000; }
        .action-btn:active { transform: scale(0.97); }

        /* --- TOAST --- */
        .toast-pill {
            position: fixed; bottom: 40px; left: 50%; transform: translate(-50%, 150px);
            background: rgba(255,255,255,0.95); backdrop-filter: blur(20px);
            padding: 14px 28px; border-radius: 50px; font-weight: 600; color: #000;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2); z-index: 3000;
            display: flex; align-items: center; gap: 10px; white-space: nowrap;
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .toast-pill.visible { transform: translate(-50%, 0); }
    </style>
</head>
<body>

    <!-- Dynamic Backgrounds -->
    <div id="bg-snow" class="bg-mesh"></div>
    <div id="bg-spring" class="bg-mesh"></div>
    <div id="bg-rain" class="bg-mesh"></div>
    <canvas id="canvas-fx"></canvas>

    <div class="control-dock">
        <button class="dock-btn" onclick="setMode('snow')" id="btn-snow">‚ùÑÔ∏è</button>
        <button class="dock-btn" onclick="setMode('spring')" id="btn-spring">üå∏</button>
        <button class="dock-btn" onclick="setMode('rain')" id="btn-rain">üåßÔ∏è</button>
        <div style="width:1px; background:rgba(127,127,127,0.3); height:24px; align-self:center; margin:0 4px;"></div>
        <button class="dock-btn" onclick="toggleGarland()" id="btn-garland">‚ú®</button>
        <button class="dock-btn" onclick="toggleDark()" id="btn-dark">üåó</button>
    </div>

    <div class="garland-wrap" id="garland">
        <!-- JS Generated -->
    </div>

    <div class="app-layout">
        <header>
            <h1>–ú–æ—è –ª—é–±–∏–º–∞—è –ë–∏–±–∞</h1>
            <div class="subtitle">–ë—É–±–∞ —Å—á–∏—Ç–∞–µ—Ç –¥–Ω–∏ –¥–æ –≤—Å—Ç—Ä–µ—á–∏</div>
        </header>

        <div class="glass-panel">
            <div class="flight-header">
                <div>
                    <div class="city-code">UFA</div>
                    <div class="city-name">–£—Ñ–∞</div>
                </div>
                <div>
                    <div class="city-code">MOW</div>
                    <div class="city-name">–ú–æ—Å–∫–≤–∞</div>
                </div>
            </div>

            <div id="flight-viz">
                <svg width="100%" height="100%" style="overflow:visible;">
                    <path id="path-bg" class="track-path" d="" />
                    <path id="path-active" class="active-path" d="" />
                </svg>
                <div id="plane-wrapper">
                    <div class="pct-pill" id="rt-percent">0.00000%</div>
                    <div class="plane-emoji">‚úàÔ∏è</div>
                </div>
            </div>

            <div class="countdown" id="timer">...</div>
            <div class="timer-caption">–æ—Å—Ç–∞–ª–æ—Å—å –¥–æ –Ω–∞—à–µ–≥–æ –æ—Ç–ø—É—Å–∫–∞</div>
            
            <div class="dates-meta">
                <span>11 –Ø–Ω–≤</span>
                <span>12 –ú–∞—è</span>
            </div>
        </div>

        <div id="calendar-root"></div>
    </div>

    <!-- Notification -->
    <div class="toast-pill" id="toast">
        <span>üîí</span> <span id="toast-text">...</span>
    </div>

    <!-- Modal -->
    <div class="modal-layer" id="modal">
        <div class="letter-box">
            <div style="font-size: 50px; margin-bottom: 10px;">üíå</div>
            <div style="font-size: 11px; font-weight: 800; opacity: 0.4; text-transform: uppercase;" id="m-date">...</div>
            <div class="quote-text" id="m-text">...</div>
            <div style="font-weight: 700; color: var(--accent); margin-bottom: 30px;" id="m-source">...</div>
            <button class="action-btn" onclick="closeModal()">–õ—é–±–ª—é —Ç–µ–±—è, –ë—É–±–∞ ‚ù§Ô∏è</button>
        </div>
    </div>

    <script>
        // === STRICT TEXT DATA ===
        const START = new Date(2026, 0, 11);
        const END = new Date(2026, 4, 12);
        const KEY = 'love_cal_v2026';

        const quotes = [
            {t: "–ú–æ—è –º–∏–ª–∞—è –ë–∏–±–∞, –º—ã —Å —Ç–æ–±–æ–π –æ–¥–Ω–æ–π –∫—Ä–æ–≤–∏, —Ç—ã –∏ —è. –¢—ã ‚Äî —á–∞—Å—Ç—å –º–µ–Ω—è, –∫–æ—Ç–æ—Ä–∞—è —Å–µ–π—á–∞—Å –¥–∞–ª–µ–∫–æ, –Ω–æ —Å–∫–æ—Ä–æ –º—ã —Å—Ç–∞–Ω–µ–º –æ–¥–Ω–∏–º —Ü–µ–ª—ã–º.", s: "–¢–≤–æ–π –ë—É–±–∞"},
            {t: "–û–ª—è, –∑–Ω–∞–µ—à—å, –∫–∞–∫ –≥–æ–≤–æ—Ä–∏–ª –ú–æ–ª–Ω–∏—è –ú–∞–∫–∫—É–∏–Ω? ¬´–ö—á–∞—É!¬ª –¢–∞–∫ –±—ã—Å—Ç—Ä–æ –±—å–µ—Ç—Å—è –º–æ–µ —Å–µ—Ä–¥—Ü–µ, –∫–æ–≥–¥–∞ —è –≤–∏–∂—É —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.", s: "–¢–∞—á–∫–∏ & –ë—É–±–∞"},
            {t: "–Ø –Ω–µ —Ö–æ—á—É –±—ã—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º, —è —Ö–æ—á—É –±—ã—Ç—å —Å —Ç–æ–±–æ–π! –î–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–∏–¥–µ—Ç—Å—è —Å—Ç–∞—Ç—å –ß–µ–±—É—Ä–∞—à–∫–æ–π –∏ –∂–∏—Ç—å –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–π –±—É–¥–∫–µ, –≥–ª–∞–≤–Ω–æ–µ ‚Äî —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π.", s: "–ß–µ–±—É—Ä–∞—à–∫–∞"},
            {t: "–ë–∏–±–∞, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∑–Ω–∞—á–∏—Ç —Ç–∞–∫ –º–∞–ª–æ, –∫–æ–≥–¥–∞ —Ç—ã –∑–Ω–∞—á–∏—à—å –¥–ª—è –º–µ–Ω—è —Ç–∞–∫ –º–Ω–æ–≥–æ. –¢—ã ‚Äî –º–æ–π –º–∏—Ä.", s: "–ò—Å–∫—Ä–µ–Ω–Ω–µ"},
            {t: "–û—Ö–∞–Ω–∞ ‚Äî –∑–Ω–∞—á–∏—Ç —Å–µ–º—å—è. –ê —Å–µ–º—å—è ‚Äî —ç—Ç–æ –º—ã —Å —Ç–æ–±–æ–π. –ò –≤ —Å–µ–º—å–µ –Ω–∏–∫–æ–≥–æ –Ω–µ –±—Ä–æ—Å–∞—é—Ç –∏ –Ω–µ –∑–∞–±—ã–≤–∞—é—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –≤ –¥—Ä—É–≥–æ–º –≥–æ—Ä–æ–¥–µ.", s: "–õ–∏–ª–æ –∏ –°—Ç–∏—á"},
            {t: "–£–ª—ã–±–∞–µ–º—Å—è –∏ –º–∞—à–µ–º, –ë–∏–±–∞! –£–ª—ã–±–∞–µ–º—Å—è –∏ –º–∞—à–µ–º! –°–∫–æ—Ä–æ –º—ã –±—É–¥–µ–º —Å–º–µ—è—Ç—å—Å—è –≤–º–µ—Å—Ç–µ, –≥–ª—è–¥—è –¥—Ä—É–≥ –¥—Ä—É–≥—É –≤ –≥–ª–∞–∑–∞.", s: "–ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä"},
            {t: "–û–ª–µ–Ω—å–∫–∞, —Ç—ã –∫—Ä–∞—Å–∏–≤–∞, –∫–∞–∫ —Å–∞–º—ã–π —è—Ä–∫–∏–π –º–∞–π—Å–∫–∏–π —Ä–∞—Å—Å–≤–µ—Ç. –ò —Å–∫–æ—Ä–æ —ç—Ç–æ—Ç —Ä–∞—Å—Å–≤–µ—Ç –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–º –≤–º–µ—Å—Ç–µ.", s: "–¢–≤–æ–π –≤–ª—é–±–ª–µ–Ω–Ω—ã–π"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ, —á–µ–º –≤—á–µ—Ä–∞, –Ω–æ –º–µ–Ω—å—à–µ, —á–µ–º –∑–∞–≤—Ç—Ä–∞. –ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º —Ä–∞–∑–ª—É–∫–∏.", s: "–ù–∞–≤—Å–µ–≥–¥–∞"},
            {t: "–ú—ã —Å—Ç—Ä–æ–∏–ª–∏, —Å—Ç—Ä–æ–∏–ª–∏ –∏ –Ω–∞–∫–æ–Ω–µ—Ü... –ø–æ—Å—Ç—Ä–æ–∏–º –Ω–∞—à–µ —Å—á–∞—Å—Ç—å–µ! –ì–µ–Ω–∞ –∏ –ß–µ–±—É—Ä–∞—à–∫–∞ —Å–º–æ–≥–ª–∏, –∏ –º—ã —Å–º–æ–∂–µ–º.", s: "–ú—É–¥—Ä–æ—Å—Ç—å"},
            {t: "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –º–æ–µ–π —É–ª—ã–±–∫–∏ —Å–µ–≥–æ–¥–Ω—è, –ë–∏–±–∞. –î–∞–∂–µ —á–µ—Ä–µ–∑ —Ç—ã—Å—è—á–∏ –∫–∏–ª–æ–º–µ—Ç—Ä–æ–≤ —è —á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ–µ —Ç–µ–ø–ª–æ.", s: "–ë—É–±–∞"},
            {t: "–ñ–¥–∞—Ç—å —Ç—è–∂–µ–ª–æ, –º–æ—è —Ö–æ—Ä–æ—à–∞—è, —è –∑–Ω–∞—é. –ù–æ –Ω–∞–≥—Ä–∞–¥–∞ ‚Äî —ç—Ç–æ —Ç—ã, –∏ –∑–∞ —Ç–∞–∫—É—é –Ω–∞–≥—Ä–∞–¥—É —è –≥–æ—Ç–æ–≤ –∂–¥–∞—Ç—å –≤–µ—á–Ω–æ—Å—Ç—å.", s: "–û –≥–ª–∞–≤–Ω–æ–º"},
            {t: "–ë–∏–±–∞, —Ç—ã –º–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥, –º–æ—è –ª—é–±–æ–≤—å –∏ –º–æ—è –≤—Å–µ–ª–µ–Ω–Ω–∞—è. –ë–µ–∑ —Ç–µ–±—è –≥–æ—Ä–æ–¥ –∫–∞–∂–µ—Ç—Å—è –ø—É—Å—Ç—ã–º.", s: "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ"},
            {t: "–í –º–æ–µ–º —Å–µ—Ä–¥—Ü–µ –≤—Å–µ–≥–¥–∞ –≤–µ—Å–Ω–∞, –∫–æ–≥–¥–∞ —è –¥—É–º–∞—é –æ —Ç–µ–±–µ, –û–ª—è. –¢–∞–º –≤—Å–µ–≥–¥–∞ –ø–æ—é—Ç –ø—Ç–∏—Ü—ã –∏ —Å–≤–µ—Ç–∏—Ç —Å–æ–ª–Ω—Ü–µ.", s: "–ß—É–≤—Å—Ç–≤–∞"},
            {t: "–Ø —Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ 3000. –ù–µ—Ç, 3 –º–∏–ª–ª–∏–æ–Ω–∞! –õ—é–±–ª—é —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.", s: "–ú—Å—Ç–∏—Ç–µ–ª–∏"},
            {t: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ —à–∞–≥ –Ω–∞–≤—Å—Ç—Ä–µ—á—É. –°–µ–≥–æ–¥–Ω—è –º—ã —Å—Ç–∞–ª–∏ –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å –±–ª–∏–∂–µ –∫ –Ω–∞—à–µ–º—É –æ—Ç–ø—É—Å–∫—É!", s: "–ú–æ—Ç–∏–≤–∞—Ü–∏—è"},
            {t: "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è —Å–∏–ª—å–Ω–µ–µ, –ë–∏–±–∞. –†–∞–¥–∏ –Ω–∞—Å —è –≥–æ—Ç–æ–≤ —Å–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ä—ã.", s: "–¢–≤–æ—è –æ–ø–æ—Ä–∞"},
            {t: "–Ø —Å —Ç–æ–±–æ–π. –í—Å–µ–≥–¥–∞. –î–∞–∂–µ –µ—Å–ª–∏ —Ç—ã –º–µ–Ω—è –Ω–µ –≤–∏–¥–∏—à—å, —è —Å—Ç–æ—é –∑–∞ —Ç–≤–æ–∏–º –ø–ª–µ—á–æ–º –∏ –¥–µ—Ä–∂—É —Ç–µ–±—è –∑–∞ —Ä—É–∫—É.", s: "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä (–ø–æ—á—Ç–∏)"},
            {t: "–¢—ã ‚Äî –º–æ–π –æ–∫–µ–∞–Ω, –û–ª—è. –ì–ª—É–±–æ–∫–∏–π, –∫—Ä–∞—Å–∏–≤—ã–π –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π. –Ø —Ö–æ—á—É —Ç–æ–Ω—É—Ç—å –≤ —Ç–µ–±–µ.", s: "–†–æ–º–∞–Ω—Ç–∏–∫–∞"},
            {t: "–°–∫–æ—Ä–æ –º—ã –±—É–¥–µ–º –ø–∏—Ç—å –∫–æ—Ñ–µ –≤–º–µ—Å—Ç–µ, –≥—É–ª—è—Ç—å –∑–∞ —Ä—É–∫—É –∏ –Ω–∏–∫—É–¥–∞ –Ω–µ —Å–ø–µ—à–∏—Ç—å. –û–±–µ—â–∞—é.", s: "–ú–µ—á—Ç–∞"},
            {t: "–û–±–Ω–∏–º–∞—é —Ç–µ–±—è –∫—Ä–µ–ø–∫–æ-–∫—Ä–µ–ø–∫–æ, –º–æ—è –º–∞–ª–µ–Ω—å–∫–∞—è –ë–∏–±–∞. –ß—É–≤—Å—Ç–≤—É–µ—à—å?", s: "–î–µ–π—Å—Ç–≤–∏–µ"},
            {t: "–¢—ã ‚Äî –º–æ–µ —Å–æ–ª–Ω—ã—à–∫–æ. –î–∞–∂–µ –∫–æ–≥–¥–∞ –Ω–∞ —É–ª–∏—Ü–µ –ø–∞—Å–º—É—Ä–Ω–æ, —Ç—ã —Å–≤–µ—Ç–∏—à—å –º–Ω–µ –∏–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.", s: "–¢–µ–ª–µ–ø—É–∑–∏–∫–∏"},
            {t: "–ù–∞—à–∞ –≤—Å—Ç—Ä–µ—á–∞ –Ω–µ–∏–∑–±–µ–∂–Ω–∞, –∫–∞–∫ —Ä–∞—Å—Å–≤–µ—Ç. –ù–æ—á—å —Ç–µ–º–Ω–∞, –Ω–æ —Å–æ–ª–Ω—Ü–µ (—ç—Ç–æ —Ç—ã!) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∑–æ–π–¥–µ—Ç.", s: "–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å"},
            {t: "–Ø –±–µ—Ä–µ–≥—É —Ç–µ–±—è –≤ —Å–∞–º–æ–º –Ω–∞–¥–µ–∂–Ω–æ–º —Å–µ–π—Ñ–µ ‚Äî –≤ —Å–≤–æ–µ–º —Å–µ—Ä–¥—Ü–µ. –ö–ª—é—á —Ç–æ–ª—å–∫–æ —É —Ç–µ–±—è, –û–ª—è.", s: "–°–µ–∫—Ä–µ—Ç"},
            {t: "–¢—ã —Å–∞–º–∞—è-—Å–∞–º–∞—è –ª—É—á—à–∞—è –¥–µ–≤–æ—á–∫–∞ –Ω–∞ —Å–≤–µ—Ç–µ. –ò —Ç—ã ‚Äî –º–æ—è.", s: "–§–∞–∫—Ç"},
            {t: "–ó–Ω–∞–µ—à—å, –¥–∞–∂–µ –®—Ä–µ–∫ –Ω–µ —Ç–∞–∫ –ª—é–±–∏–ª –§–∏–æ–Ω—É —á–µ—Ä–µ–∑ –±–æ–ª–æ—Ç–∞, –∫–∞–∫ —è –ª—é–±–ª—é —Ç–µ–±—è —á–µ—Ä–µ–∑ –≥–æ—Ä–æ–¥–∞.", s: "–®—Ä–µ–∫"},
            {t: "–ú–æ–π –º–∏—Ä –±–µ–∑ —Ç–µ–±—è —á–µ—Ä–Ω–æ-–±–µ–ª—ã–π, –ë–∏–±–∞. –¢—ã –ø—Ä–∏–Ω–æ—Å–∏—à—å –∫—Ä–∞—Å–∫–∏ –≤ –º–æ—é –∂–∏–∑–Ω—å.", s: "–¶–≤–µ—Ç"},
            {t: "–°–∫–æ—Ä–æ –≤—Å–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è. –ú—ã –ø—Ä–æ—Å–Ω–µ–º—Å—è –≤ –æ–¥–Ω–æ–π –∫—Ä–æ–≤–∞—Ç–∏ –∏ –ø–æ–π–º–µ–º, —á—Ç–æ –æ–∂–∏–¥–∞–Ω–∏–µ —Ç–æ–≥–æ —Å—Ç–æ–∏–ª–æ.", s: "–ù–∞–¥–µ–∂–¥–∞"},
            {t: "–ë–∏–±–∞, —Ç—ã –º–æ–π —à—Ç—É—Ä–º–∞–Ω. –ö—É–¥–∞ –±—ã —è –Ω–∏ –µ—Ö–∞–ª, –≤—Å–µ –¥–æ—Ä–æ–≥–∏ –≤–µ–¥—É—Ç –∫ —Ç–µ–±–µ.", s: "–¢–∞—á–∫–∏"},
            {t: "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Å—á–∞—Å—Ç—å–µ –¥—Ä—É–≥–æ–≥–æ –≤–∞–∂–Ω–µ–µ —Ç–≤–æ–µ–≥–æ. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—ã –±—ã–ª–∞ —Å—á–∞—Å—Ç–ª–∏–≤–∞, –û–ª—è.", s: "–•–æ–ª–æ–¥–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ"},
            {t: "–°–ª—É—á–∞–π–Ω–æ—Å—Ç–∏ –Ω–µ —Å–ª—É—á–∞–π–Ω—ã. –¢–æ, —á—Ç–æ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å ‚Äî —ç—Ç–æ –ª—É—á—à–∏–π –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã.", s: "–ö—É–Ω–≥-—Ñ—É –ü–∞–Ω–¥–∞"},
            {t: "–Ø —Å–º–æ—Ç—Ä—é –Ω–∞ —Ç–≤–æ–µ —Ñ–æ—Ç–æ –∏ –ø–æ–Ω–∏–º–∞—é: —Ä–∞–¥–∏ —ç—Ç–∏—Ö –≥–ª–∞–∑ —è –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö, –ª–∏—à—å –±—ã —Å–∫–æ—Ä–µ–µ –ø—Ä–∏–µ—Ö–∞—Ç—å.", s: "–ë—É–±–∞"},
            {t: "–¢—ã ‚Äî –º–æ–π –ª–∏—á–Ω—ã–π —Å–æ—Ä—Ç –≥–µ—Ä–æ–∏–Ω–∞. –Ø –∑–∞–≤–∏—Å–∏–º –æ—Ç —Ç–µ–±—è, –ë–∏–±–∞.", s: "–°—É–º–µ—Ä–∫–∏"},
            {t: "–ï—Å–ª–∏ –±—ã –º–Ω–µ –¥–∞–≤–∞–ª–∏ –º–æ–Ω–µ—Ç—É –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —è –¥—É–º–∞—é –æ —Ç–µ–±–µ, —è –±—ã —É–∂–µ –∫—É–ø–∏–ª –Ω–∞–º –æ—Å—Ç—Ä–æ–≤.", s: "–ë–æ–≥–∞—Ç—Å—Ç–≤–æ"},
            {t: "–¢—ã ‚Äî —á—É–¥–æ. –ú–æ–µ –ª–∏—á–Ω–æ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ —á—É–¥–æ, –∫–æ—Ç–æ—Ä–æ–µ –¥–ª–∏—Ç—Å—è –∫—Ä—É–≥–ª—ã–π –≥–æ–¥.", s: "–í–æ–ª—à–µ–±—Å—Ç–≤–æ"},
            {t: "–ö–∞–∫ —Ç–∞–º –î–∂—É–ª–∏–∞–Ω –≥–æ–≤–æ—Ä–∏–ª? ¬´–Ø –ª—é–±–ª—é, –∫–æ–≥–¥–∞ –º–µ–Ω—è –æ–±–æ–∂–∞—é—Ç!¬ª –ê —è –æ–±–æ–∂–∞—é —Ç–µ–±—è, –º–æ—è –∫–æ—Ä–æ–ª–µ–≤–∞.", s: "–ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä"},
            {t: "–Ø —Å—á–∏—Ç–∞—é –¥–Ω–∏, —á–∞—Å—ã –∏ –º–∏–Ω—É—Ç—ã. –¢–∏–∫-—Ç–∞–∫. –í—Ä–µ–º—è –∏–¥–µ—Ç, –∏ –æ–Ω–æ –∏–≥—Ä–∞–µ—Ç –∑–∞ –Ω–∞—Å.", s: "–í—Ä–µ–º—è"},
            {t: "–¢—ã —Å–Ω–∏—à—å—Å—è –º–Ω–µ –∫–∞–∂–¥—É—é –Ω–æ—á—å. –ò –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è –±–µ–∑ —Ç–µ–±—è ‚Äî —Å–∞–º–æ–µ —Å–ª–æ–∂–Ω–æ–µ.", s: "–°–Ω—ã"},
            {t: "–û–ª—è, —Ç–≤–æ—è —É–ª—ã–±–∫–∞ –æ—Å–≤–µ—â–∞–µ—Ç –º–Ω–µ –ø—É—Ç—å –ª—É—á—à–µ –ª—é–±—ã—Ö —Ñ–∞—Ä.", s: "–¢–∞—á–∫–∏"},
            {t: "–Ø —Ä—è–¥–æ–º. –ü—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π –≥–ª–∞–∑–∞ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å. –Ø –∑–¥–µ—Å—å.", s: "–ú–∞–≥–∏—è"},
            {t: "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è –ª—É—á—à–µ. –†—è–¥–æ–º —Å —Ç–æ–±–æ–π —è —Ö–æ—á—É –±—ã—Ç—å —Å—É–ø–µ—Ä–≥–µ—Ä–æ–µ–º.", s: "–í–ª–∏—è–Ω–∏–µ"},
            {t: "–°–∫–æ—Ä–æ –≤–µ—Å–Ω–∞, –ë–∏–±–∞! –ê –≤–µ—Å–Ω–∞ ‚Äî —ç—Ç–æ –∂–∏–∑–Ω—å, —ç—Ç–æ –ª—é–±–æ–≤—å, —ç—Ç–æ –º—ã.", s: "–ö–∞–ª–µ–Ω–¥–∞—Ä—å"},
            {t: "–Ø –ª—é–±–ª—é, –∫–æ–≥–¥–∞ —Ç—ã –º–µ–Ω—è –Ω–∞–∑—ã–≤–∞–µ—à—å –ë—É–±–æ–π. –≠—Ç–æ –∑–≤—É—á–∏—Ç –∫–∞–∫ –º—É–∑—ã–∫–∞.", s: "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ"},
            {t: "–ú—ã —Å —Ç–æ–±–æ–π –∫–∞–∫ –ú—ç—Ç—Ä –∏ –ú–∞–∫–∫—É–∏–Ω ‚Äî –ª—É—á—à–∏–µ –¥—Ä—É–∑—å—è –∏ –ª—É—á—à–∞—è –∫–æ–º–∞–Ω–¥–∞.", s: "–¢–∞—á–∫–∏"},
            {t: "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Å—Ç. –ò –º—ã —Å–¥–∞–¥–∏–º –µ–≥–æ –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ.", s: "–£—á–µ–±–∞"},
            {t: "–ú–Ω–µ –Ω–µ –Ω—É–∂–Ω—ã –ø–æ–¥–∞—Ä–∫–∏, –º–Ω–µ –Ω—É–∂–Ω–∞ —Ç—ã. –¢—ã ‚Äî –º–æ–π –≥–ª–∞–≤–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫.", s: "–ü—Ä–∞–∑–¥–Ω–∏–∫"},
            {t: "–Ø –ª—é–±–ª—é –∫–∞–∂–¥—É—é —Ç–≤–æ—é —á–µ—Ä—Ç–æ—á–∫—É, –∫–∞–∂–¥—É—é —Ç–≤–æ—é —ç–º–æ—Ü–∏—é.", s: "–î–µ—Ç–∞–ª–∏"},
            {t: "–¢—ã ‚Äî –º–æ–π –¥–æ–º, –û–ª—è. –ò —è —É–∂–∞—Å–Ω–æ —Ö–æ—á—É –¥–æ–º–æ–π.", s: "–£—é—Ç"},
            {t: "–ï—â–µ –æ–¥–∏–Ω –¥–µ–Ω—å –∑–∞—á–µ—Ä–∫–Ω—É—Ç. –ú—ã –ø–æ–±–µ–∂–¥–∞–µ–º —ç—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ.", s: "–ü–æ–±–µ–¥–∞"},
            {t: "–ú–∞—Ä—Ç! –ö–æ—Ç—ã –ø–æ—é—Ç, –∞ –º–æ–µ —Å–µ—Ä–¥—Ü–µ –ø–æ–µ—Ç —Ç–≤–æ–µ –∏–º—è: –û-–ª—è! –ë–∏-–±–∞!", s: "–í–µ—Å–Ω–∞"},
            {t: "–¢—ã —Ä–∞—Å—Ü–≤–µ—Ç–∞–µ—à—å, –∫–∞–∫ —Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π —Ü–≤–µ—Ç–æ–∫. –Ø —Ö–æ—á—É –ø–æ–ª–∏–≤–∞—Ç—å —Ç–µ–±—è —Å–≤–æ–µ–π –ª—é–±–æ–≤—å—é.", s: "–°–∞–¥–æ–≤–Ω–∏–∫"},
            {t: "–Ø —Å–∫—É—á–∞—é –ø–æ —Ç–≤–æ–∏–º —Ä—É–∫–∞–º. –•–æ—á—É –¥–µ—Ä–∂–∞—Ç—å –∏—Ö –≤ —Å–≤–æ–∏—Ö –∏ –≥—Ä–µ—Ç—å.", s: "–¢–µ–ø–ª–æ"},
            {t: "–ë–∏–±–∞, —Ç—ã ‚Äî –º–æ—è –±–∞—Ç–∞—Ä–µ–π–∫–∞. –ë–µ–∑ —Ç–µ–±—è —è —Å–∞–∂—É—Å—å.", s: "–≠–Ω–µ—Ä–≥–∏—è"},
            {t: "–°–∫–æ—Ä–æ –ª–µ–¥ —Ä–∞—Å—Ç–∞–µ—Ç, –∏ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–º—Å—è. –û—Å—Ç–∞–ª–æ—Å—å —Å–æ–≤—Å–µ–º –Ω–µ–º–Ω–æ–≥–æ.", s: "–ü—Ä–æ–≥–Ω–æ–∑"},
            {t: "–¢—ã ‚Äî –º–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ. –í—Å–µ, —á—Ç–æ —è –¥–µ–ª–∞—é ‚Äî —è –¥–µ–ª–∞—é –¥–ª—è –Ω–∞—Å.", s: "–†–∞–±–æ—Ç–∞"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è –¥–æ –õ—É–Ω—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ. –ò –µ—â–µ —Ç—Ä–∏ —Ä–∞–∑–∞ –≤–æ–∫—Ä—É–≥ –ó–µ–º–ª–∏.", s: "–ö–æ—Å–º–æ—Å"},
            {t: "–¢—ã ‚Äî –º–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è. –ù–∏–∫–æ–≥–æ –Ω–µ—Ç –ª—É—á—à–µ —Ç–µ–±—è –≤–æ –≤—Å–µ–º –º–∏—Ä–µ.", s: "–ò—Å—Ç–∏–Ω–∞"},
            {t: "–ü–æ–º–Ω–∏—à—å, –∫–∞–∫ –≤ ¬´–í–≤–µ—Ä—Ö¬ª? ¬´–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ!¬ª –ù–∞—à–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.", s: "–í–≤–µ—Ä—Ö"},
            {t: "–ë–∏–±–∞, –Ω–µ –≥—Ä—É—Å—Ç–∏. –¢–≤–æ–π –ë—É–±–∞ —Å–∫–æ—Ä–æ –ø—Ä–∏–µ–¥–µ—Ç –∏ –∑–∞—Ü–µ–ª—É–µ—Ç —Ç–µ–±—è.", s: "–û–±–µ—â–∞–Ω–∏–µ"},
            {t: "–¢–≤–æ–∏ –≥–ª–∞–∑–∞ ‚Äî –∫–∞–∫ –¥–≤–∞ –æ–∫–µ–∞–Ω–∞. –Ø —Ö–æ—á—É —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –Ω–∏—Ö –≤–µ—á–Ω–æ.", s: "–í–∑–≥–ª—è–¥"},
            {t: "–Ø –≥–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π, –û–ª—è. –¢—ã —É –º–µ–Ω—è —Ç–∞–∫–∞—è —Å–∏–ª—å–Ω–∞—è.", s: "–ì–æ—Ä–¥–æ—Å—Ç—å"},
            {t: "–ú—ã —Å–ø—Ä–∞–≤–∏–º—Å—è. –ú—ã –∂–µ –±–∞–Ω–¥–∞!", s: "–ö–æ–º–∞–Ω–¥–∞"},
            {t: "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—à—å —É—Å–Ω—É—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –ª—É—á—à–µ —Å–Ω–æ–≤. –ù–æ –±–µ–∑ —Ç–µ–±—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –≥—Ä—É—Å—Ç–Ω–∞—è. –ñ–¥—É —Ç–µ–±—è.", s: "–ö–ª–∞—Å—Å–∏–∫–∞"},
            {t: "–¢—ã ‚Äî –º–æ—è –∑–≤–µ–∑–¥–æ—á–∫–∞. –°–≤–µ—Ç–∏ –º–Ω–µ —è—Ä—á–µ!", s: "–ù–æ—á—å"},
            {t: "–Ø —Ö–æ—á—É –≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ–±–µ –∑–∞–≤—Ç—Ä–∞–∫–∏.", s: "–ó–∞–±–æ—Ç–∞"},
            {t: "–ö–∞–∂–¥–∞—è –ø–µ—Å–Ω—è –æ –ª—é–±–≤–∏ —Ç–µ–ø–µ—Ä—å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –º–Ω–µ –æ —Ç–µ–±–µ.", s: "–ú—É–∑—ã–∫–∞"},
            {t: "–¢—ã ‚Äî –º–æ–π —Å–∞–º—ã–π —Å–ª–∞–¥–∫–∏–π –ø–æ–Ω—á–∏–∫.", s: "–í–∫—É—Å–Ω–æ"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è, –ë–∏–±–∞. –ü—Ä–æ—Å—Ç–æ, —Å–∏–ª—å–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞.", s: "–ü—Ä–æ—Å—Ç–æ"},
            {t: "–°–∫–æ—Ä–æ –∞–ø—Ä–µ–ª—å. –≠—Ç–æ —É–∂–µ —Ñ–∏–Ω–∏—à–Ω–∞—è –ø—Ä—è–º–∞—è!", s: "–í—Ä–µ–º—è"},
            {t: "–Ø –≤–µ—Ä—é –≤ –Ω–∞—Å. –£ –Ω–∞—Å –≤—Å–µ –ø–æ–ª—É—á–∏—Ç—Å—è.", s: "–í–µ—Ä–∞"},
            {t: "–¢—ã ‚Äî –º–∞–≥–∏—è –≤–Ω–µ –•–æ–≥–≤–∞—Ä—Ç—Å–∞.", s: "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä"},
            {t: "–ú–æ–µ —Å–µ—Ä–¥—Ü–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–±–µ. –¶–µ–ª–∏–∫–æ–º –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é.", s: "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"},
            {t: "–ñ–¥—É –º–æ–º–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ —É–≤–∏–∂—É —Ç–µ–±—è –Ω–∞ –≤–æ–∫–∑–∞–ª–µ/–≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç—É. –≠—Ç–æ –±—É–¥–µ—Ç –ª—É—á—à–∏–π –º–∏–≥.", s: "–í—Å—Ç—Ä–µ—á–∞"},
            {t: "–¢—ã ‚Äî –º–æ—è —Ä–∞–¥–æ—Å—Ç—å.", s: "–≠–º–æ—Ü–∏–∏"},
            {t: "–Ø —Å–∫—É—á–∞—é –ø–æ —Ç–≤–æ–µ–º—É –≥–æ–ª–æ—Å—É. –ó–≤–æ–Ω–∏ –º–Ω–µ —á–∞—â–µ.", s: "–°–≤—è–∑—å"},
            {t: "–ú—ã —Å —Ç–æ–±–æ–π –∫–∞–∫ –ø–∞–∑–ª. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏–º.", s: "–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ"},
            {t: "–õ—é–±–∏—Ç—å —Ç–µ–±—è ‚Äî —ç—Ç–æ —Å–∞–º–æ–µ –ª–µ–≥–∫–æ–µ, —á—Ç–æ —è –∫–æ–≥–¥–∞-–ª–∏–±–æ –¥–µ–ª–∞–ª.", s: "–ß—É–≤—Å—Ç–≤–∞"},
            {t: "–¢—ã ‚Äî –º–æ–µ –≤—Å–µ, –û–ª—è.", s: "–ò—Ç–æ–≥"},
            {t: "–ê–ø—Ä–µ–ª—å! –ë–∏–±–∞, —Å–º–æ—Ç—Ä–∏, –º–∞–π —É–∂–µ –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–µ!", s: "–ö–∞–ª–µ–Ω–¥–∞—Ä—å"},
            {t: "–ï—â–µ —á—É—Ç—å-—á—É—Ç—å, –º–æ—è —Ö–æ—Ä–æ—à–∞—è. –ü–æ—Ç–µ—Ä–ø–∏.", s: "–¢–µ—Ä–ø–µ–Ω–∏–µ"},
            {t: "–Ø —É–∂–µ –ø–ª–∞–Ω–∏—Ä—É—é, –∫—É–¥–∞ –º—ã –ø–æ–π–¥–µ–º –∏ —á—Ç–æ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å.", s: "–ü–ª–∞–Ω—ã"},
            {t: "–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å? –í–æ–∑–¥—É—Ö –ø–∞—Ö–Ω–µ—Ç –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–µ–π.", s: "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –≤—á–µ—Ä–∞. –ò —Ç–∞–∫ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.", s: "–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è"},
            {t: "–¢—ã ‚Äî –º–æ—è –≤–µ—Å–Ω–∞.", s: "–ú–µ—Ç–∞—Ñ–æ—Ä–∞"},
            {t: "–°–∫–æ—Ä–æ—Å—Ç—å! –Ø —Å–∫–æ—Ä–æ—Å—Ç—å! –í—Ä–µ–º—è, –ª–µ—Ç–∏ –±—ã—Å—Ç—Ä–µ–µ –∫ –º–∞—é!", s: "–¢–∞—á–∫–∏"},
            {t: "–î–∂—É–ª–∏–∞–Ω –±—ã —Å–∫–∞–∑–∞–ª: ¬´–ö–∞–∫–∞—è –∂–µ–Ω—â–∏–Ω–∞!¬ª –ò —è —Å –Ω–∏–º —Å–æ–≥–ª–∞—Å–µ–Ω.", s: "–ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä"},
            {t: "–¢—ã —Å–∞–º–∞—è –∫—Ä–∞—Å–∏–≤–∞—è –¥–µ–≤—É—à–∫–∞ –≤ –º–∏—Ä–µ. –ò –≤ –ú–æ—Å–∫–≤–µ. –ò –≤–µ–∑–¥–µ.", s: "–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç"},
            {t: "–Ø —Å—á–∏—Ç–∞—é –¥–∞–∂–µ —Å–µ–∫—É–Ω–¥—ã.", s: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"},
            {t: "–¢—ã –¥–µ–ª–∞–µ—à—å —ç—Ç–æ—Ç –º–∏—Ä –¥–æ–±—Ä—ã–º.", s: "–î–æ–±—Ä–æ"},
            {t: "–Ø —Ö–æ—á—É –≥—É–ª—è—Ç—å —Å —Ç–æ–±–æ–π –ø–æ–¥ –¥–æ–∂–¥–µ–º.", s: "–†–æ–º–∞–Ω—Ç–∏–∫–∞"},
            {t: "–¢—ã ‚Äî –º–æ–π –ª—É—á—à–∏–π –ø–æ–¥–∞—Ä–æ–∫.", s: "–ü—Ä–∞–∑–¥–Ω–∏–∫"},
            {t: "–°–∫–æ—Ä–æ –≤—Å–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è. –ú—ã –±—É–¥–µ–º —Ä—è–¥–æ–º.", s: "–ë—É–¥—É—â–µ–µ"},
            {t: "–¢—ã ‚Äî –º–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ë–∏–±–∞.", s: "–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å"},
            {t: "–î–∞–≤–∞–π –Ω–∏–∫–æ–≥–¥–∞ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞—Å—Å—Ç–∞–≤–∞—Ç—å—Å—è —Ç–∞–∫ –Ω–∞–¥–æ–ª–≥–æ.", s: "–£–≥–æ–≤–æ—Ä"},
            {t: "–¢—ã –º–Ω–µ —Å–Ω–∏—à—å—Å—è. –ò –≤ —ç—Ç–∏—Ö —Å–Ω–∞—Ö –º—ã —Å—á–∞—Å—Ç–ª–∏–≤—ã.", s: "–°–æ–Ω"},
            {t: "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å ¬´–ø—Ä–æ—Å—Ç–∏¬ª, –Ω–æ —è –ø—Ä–æ—Å—Ç–∏, —á—Ç–æ —É–µ—Ö–∞–ª.", s: "–ò—Å—Ç–æ—Ä–∏—è"},
            {t: "–Ø –≤—Å–µ–≥–¥–∞ –±—É–¥—É –∏—Å–∫–∞—Ç—å —Ç–µ–±—è –≤ —Ç–æ–ª–ø–µ.", s: "–û—Ä–∏–µ–Ω—Ç–∏—Ä"},
            {t: "–¢–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî –º–æ–µ —Å–æ–ª–Ω—Ü–µ.", s: "–°–≤–µ—Ç"},
            {t: "–Ø –±–µ—Ä–µ–≥—É –∫–∞–∂–¥–æ–µ —Ç–≤–æ–µ —Å–ª–æ–≤–æ.", s: "–¶–µ–Ω–Ω–æ—Å—Ç—å"},
            {t: "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ —É—á–∏—Ç —Ü–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è. –ú—ã –±—É–¥–µ–º —Ü–µ–Ω–∏—Ç—å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É.", s: "–£—Ä–æ–∫"},
            {t: "–¢—ã ‚Äî –º–æ–π –∫–æ–º–ø–∞—Å, –û–ª—è.", s: "–ù–∞–≤–∏–≥–∞—Ü–∏—è"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è –¥–æ –≥–ª—É–±–∏–Ω—ã –¥—É—à–∏.", s: "–ì–ª—É–±–∏–Ω–∞"},
            {t: "–¢—ã ‚Äî –º–æ–µ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ.", s: "–î–∑–µ–Ω"},
            {t: "–ï—â–µ –∫–∞–ø–µ–ª—å–∫—É...", s: "–§–∏–Ω–∞–ª"},
            {t: "–Ø —É–∂–µ —Å–æ–±–∏—Ä–∞—é —á–µ–º–æ–¥–∞–Ω –≤ –º—ã—Å–ª—è—Ö.", s: "–°–±–æ—Ä—ã"},
            {t: "–¢—ã –¥–∞–∂–µ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å, –∫–∞–∫ —è —Å–æ—Å–∫—É—á–∏–ª—Å—è, –ë–∏–±–∞.", s: "–¢–æ—Å–∫–∞"},
            {t: "–ú–∞–π —É–∂–µ —Å—Ç—É—á–∏—Ç—Å—è –≤ –¥–≤–µ—Ä—å!", s: "–†–∞–¥–æ—Å—Ç—å"},
            {t: "–ú–ê–ô! –ë–∏–±–∞, –º—ã –¥–æ–∂–∏–ª–∏! –£—Ä–∞!", s: "–ü–æ–±–µ–¥–∞"},
            {t: "–û—Å—Ç–∞–ª–∏—Å—å —Å—á–∏—Ç–∞–Ω–Ω—ã–µ –¥–Ω–∏. –°–µ—Ä–¥—Ü–µ –≤—ã–ø—Ä—ã–≥–∏–≤–∞–µ—Ç.", s: "–ü—É–ª—å—Å"},
            {t: "–Ø —É–∂–µ —á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ–∏ –¥—É—Ö–∏.", s: "–û–±–æ–Ω—è–Ω–∏–µ"},
            {t: "–ì–æ—Ç–æ–≤—å—Å—è –∫ —Å–∞–º—ã–º –∫—Ä–µ–ø–∫–∏–º –æ–±–Ω–∏–º–∞—à–∫–∞–º –≤ –º–∏—Ä–µ.", s: "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ"},
            {t: "–°–∫–æ—Ä–æ —è —É–≤–∏–∂—É —Ç–≤–æ–∏ –≥–ª–∞–∑–∞ –≤–∂–∏–≤—É—é, –∞ –Ω–µ —á–µ—Ä–µ–∑ —ç–∫—Ä–∞–Ω.", s: "–°—á–∞—Å—Ç—å–µ"},
            {t: "–≠—Ç–æ –±—ã–ª–æ –¥–æ–ª–≥–æ, –Ω–æ –º—ã —Å–º–æ–≥–ª–∏. –ú—ã –º–æ–ª–æ–¥—Ü—ã.", s: "–ì–æ—Ä–¥–æ—Å—Ç—å"},
            {t: "–Ø –ª—é–±–ª—é —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –º–æ—è –û–ª—è.", s: "–ö–æ—Å–º–æ—Å"},
            {t: "–ß–µ–º–æ–¥–∞–Ω —Å–æ–±—Ä–∞–Ω. –ë–∏–ª–µ—Ç –≤ –∫–∞—Ä–º–∞–Ω–µ (–ø–æ—á—Ç–∏).", s: "–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å"},
            {t: "–ñ–¥–∏ –º–µ–Ω—è, –∏ —è –≤–µ—Ä–Ω—É—Å—å. –û—á–µ–Ω—å —Å–∫–æ—Ä–æ.", s: "–ö–ª–∞—Å—Å–∏–∫–∞"},
            {t: "–ö—á–∞—É! –Ø –µ–¥—É –∫ —Ç–µ–±–µ!", s: "–¢–∞—á–∫–∏"},
            {t: "–ó–∞–≤—Ç—Ä–∞ –∏–ª–∏ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞? –£–∂–µ –Ω–µ–≤–∞–∂–Ω–æ, —ç—Ç–æ –°–ö–û–†–û!", s: "–ë–ª–∏–∑–æ—Å—Ç—å"},
            {t: "–ë–ò–ë–ê! –Ø –¢–£–¢! –û–¢–ü–£–°–ö! –ë–£–ë–ê –ü–†–ò–ï–•–ê–õ!", s: "12 –ú–ê–Ø"}
        ];

        let state = {
            opened: JSON.parse(localStorage.getItem(KEY)) || {},
            mode: 'snow',
            garland: false,
            dark: false
        };

        const DOM = {
            mount: document.getElementById('calendar-root'),
            modal: document.getElementById('modal'),
            track: document.getElementById('path-bg'),
            active: document.getElementById('path-active'),
            plane: document.getElementById('plane-wrapper'),
            pct: document.getElementById('rt-percent'),
            toast: document.getElementById('toast'),
            garland: document.getElementById('garland'),
            body: document.body
        };

        function init() {
            // Setup Garland (Micro LEDs)
            const colors = ['led-warm', 'led-cool', 'led-pink'];
            for(let i=0; i<8; i++) {
                const seg = document.createElement('div'); seg.className = 'string-segment';
                seg.style.animationDelay = `${i * 0.5}s`;
                // Add tiny bulbs
                for(let k=0; k<4; k++) {
                    const led = document.createElement('div');
                    led.className = `micro-led ${colors[(i+k)%3]}`;
                    led.style.top = `${Math.sin(k)*5 + 10}px`; // Randomized height on wire
                    led.style.animationDelay = `${Math.random()*2}s`;
                    seg.appendChild(led);
                }
                DOM.garland.appendChild(seg);
            }

            const m = new Date().getMonth();
            setMode((m <= 1 || m === 11) ? 'snow' : 'spring');
            
            renderCal();
            
            // Flight
            calcGraph();
            window.addEventListener('resize', calcGraph);
            requestAnimationFrame(flightLoop);
            
            setInterval(tick, 1000);
            tick();
            
            runParticles();
        }

        // === LOGIC ===
        window.setMode = (m) => {
            state.mode = m;
            document.querySelectorAll('.bg-mesh').forEach(b => b.classList.remove('active'));
            document.getElementById(`bg-${m}`).classList.add('active');
            
            document.querySelectorAll('.dock-btn').forEach(b=>b.classList.remove('active'));
            document.getElementById(`btn-${m}`).classList.add('active');
        };

        window.toggleGarland = () => {
            state.garland = !state.garland;
            DOM.garland.classList.toggle('active', state.garland);
            document.getElementById('btn-garland').classList.toggle('active');
        };

        window.toggleDark = () => {
            state.dark = !state.dark;
            DOM.body.classList.toggle('dark-mode', state.dark);
            document.getElementById('btn-dark').classList.toggle('active');
        };

        // === GRAPH ===
        let len = 0;
        function calcGraph() {
            const el = document.getElementById('flight-viz');
            const w = el.offsetWidth; const h = el.offsetHeight;
            const d = `M 20 ${h-30} Q ${w/2} -20 ${w-20} ${h-50}`;
            DOM.track.setAttribute('d', d); DOM.active.setAttribute('d', d);
            len = DOM.track.getTotalLength();
        }

        function flightLoop() {
            const tot = END - START;
            const pass = new Date() - START;
            let p = pass / tot; if(p<0) p=0; if(p>1) p=1;

            DOM.active.style.strokeDasharray = len;
            DOM.active.style.strokeDashoffset = len * (1 - p);

            const pt = DOM.track.getPointAtLength(len * p);
            const next = DOM.track.getPointAtLength(Math.min(len, len*p + 2));
            const ang = Math.atan2(next.y - pt.y, next.x - pt.x) * 180 / Math.PI;

            // Hover effect
            const hover = Math.sin(Date.now() / 800) * 3;
            
            DOM.plane.style.transform = `translate(${pt.x - 20}px, ${pt.y - 20 + hover}px) rotate(${ang}deg)`;
            DOM.pct.innerText = (p * 100).toFixed(5) + '%';
            // Keep text straight
            DOM.pct.style.transform = `rotate(${-ang}deg)`;

            requestAnimationFrame(flightLoop);
        }

        // === PARTICLES V3 ===
        function runParticles() {
            const c = document.getElementById('canvas-fx');
            const ctx = c.getContext('2d');
            
            const rsz = () => { c.width = window.innerWidth; c.height = window.innerHeight; };
            window.addEventListener('resize', rsz); rsz();
            
            let pts = [];
            for(let i=0; i<80; i++) pts.push({
                x: Math.random()*c.width, y: Math.random()*c.height,
                z: Math.random()*0.5 + 0.5,
                s: Math.random()*Math.PI*2,
                v: Math.random()*0.02
            });

            function anim() {
                ctx.clearRect(0,0,c.width,c.height);
                const m = state.mode;
                const isDark = state.dark;
                
                pts.forEach(p => {
                    p.y += p.z * (m==='rain' ? 12 : 1);
                    p.x += Math.sin(p.y*0.003 + p.s)*0.5;
                    p.s += p.v;
                    if(p.y > c.height) { p.y = -20; p.x = Math.random()*c.width; }
                    
                    ctx.beginPath();
                    if(m === 'snow') {
                        // Soft Bokeh Snow
                        const rad = p.z * 3;
                        const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, rad);
                        // On light mode, snow is white but the background is deeper blue now.
                        // We can add a very slight tint if needed, but white on the new blue looks good.
                        grad.addColorStop(0, `rgba(255,255,255,${0.8*p.z})`);
                        grad.addColorStop(1, `rgba(255,255,255,0)`);
                        ctx.fillStyle = grad;
                        ctx.arc(p.x, p.y, rad, 0, Math.PI*2);
                        ctx.fill();
                    } 
                    else if(m === 'spring') {
                        // Realistic Petals
                        ctx.save();
                        ctx.translate(p.x, p.y);
                        // 3D Rotation simulation
                        ctx.scale(Math.cos(p.s), 1); 
                        ctx.rotate(p.s * 0.5);
                        
                        ctx.fillStyle = `rgba(255, 192, 203, ${p.z})`;
                        ctx.moveTo(0,0);
                        ctx.bezierCurveTo(5, -5, 10, 0, 0, 10);
                        ctx.bezierCurveTo(-10, 0, -5, -5, 0, 0);
                        ctx.fill();
                        ctx.restore();
                    }
                    else if(m === 'rain') {
                        // Rain color changes based on mode
                        // Light Mode: Dark Grey/Blue. Dark Mode: White/Grey
                        const color = isDark ? `rgba(255,255,255,${0.3*p.z})` : `rgba(80, 100, 130, ${0.5*p.z})`;
                        
                        ctx.strokeStyle = color;
                        ctx.lineWidth = 1;
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(p.x - 1, p.y + 15*p.z);
                        ctx.stroke();
                    }
                });
                requestAnimationFrame(anim);
            }
            anim();
        }

        // === CALENDAR ===
        function renderCal() {
            DOM.mount.innerHTML = '';
            let ptr = new Date(START);
            const today = new Date(); today.setHours(0,0,0,0);

            while(ptr <= END) {
                const y = ptr.getFullYear(); const m = ptr.getMonth();
                const card = document.createElement('div'); card.className = 'glass-panel';
                
                const name = ptr.toLocaleString('ru', { month: 'long' });
                const ico = (m<=1 || m===11) ? '‚ùÑÔ∏è' : 'üå∏';
                card.innerHTML = `<div class="month-title">${ico} <span style="text-transform:capitalize">${name}</span></div>`;
                
                const grid = document.createElement('div'); grid.className = 'cal-grid';
                const f = new Date(y,m,1);
                let skip = f.getDay(); if(skip===0) skip=7;
                for(let i=1; i<skip; i++) grid.appendChild(document.createElement('div'));
                
                const days = new Date(y,m+1,0).getDate();
                for(let d=1; d<=days; d++) {
                    const date = new Date(y,m,d);
                    if(date < START && m===START.getMonth()) { grid.appendChild(document.createElement('div')); continue; }
                    if(date > END) break;
                    
                    const k = date.toISOString().split('T')[0];
                    const fut = date > today;
                    const isT = date.getTime()===today.getTime();
                    const op = state.opened[k];
                    
                    const el = document.createElement('div'); el.className = 'day-item';
                    el.innerText = d;
                    
                    if(fut) {
                        el.classList.add('future');
                        el.onclick = () => showToast(`–ü–æ—Ç–µ—Ä–ø–∏, –ë–∏–±–∞! –û—Ç–∫—Ä—ã—Ç—å –º–æ–∂–Ω–æ ${d} ${name}`);
                    } else {
                        if(isT) el.classList.add('today');
                        if(op) { el.classList.add('opened'); addHeart(el); }
                        else if(!isT) el.classList.add('missed');
                        
                        el.onclick = () => {
                            state.opened[k]=true; localStorage.setItem(KEY, JSON.stringify(state.opened));
                            el.classList.add('opened'); el.classList.remove('missed');
                            if(isT) el.classList.remove('today');
                            addHeart(el);
                            
                            const diff = Math.floor((date - START)/(86400000));
                            openLetter(d + ' ' + name, quotes[diff % quotes.length]);
                        }
                    }
                    grid.appendChild(el);
                }
                card.appendChild(grid); DOM.mount.appendChild(card);
                ptr = new Date(y,m+1,1);
            }
        }

        function addHeart(p) {
            if(p.querySelector('.mini-heart')) return;
            const h = document.createElement('span'); h.className = 'mini-heart'; h.innerText = '‚ù§';
            p.appendChild(h);
        }

        function tick() {
            const rem = END - new Date();
            if(rem<=0) { document.getElementById('timer').innerText="–ú–´ –í–ú–ï–°–¢–ï!"; return; }
            const d = Math.floor(rem/86400000);
            const h = Math.floor((rem%86400000)/3600000);
            const m = Math.floor((rem%3600000)/60000);
            const s = Math.floor((rem%60000)/1000);
            document.getElementById('timer').innerText = `${d}–¥ ${("0"+h).slice(-2)}:${("0"+m).slice(-2)}:${("0"+s).slice(-2)}`;
        }

        function openLetter(d, q) {
            document.getElementById('m-date').innerText = d;
            document.getElementById('m-text').innerText = q.t;
            document.getElementById('m-source').innerText = "‚Äî " + q.s;
            DOM.modal.classList.add('active');
        }
        window.closeModal = () => DOM.modal.classList.remove('active');
        
        let tm;
        function showToast(t) {
            document.getElementById('toast-text').innerText = t;
            DOM.toast.classList.add('visible');
            clearTimeout(tm); tm = setTimeout(()=>DOM.toast.classList.remove('visible'), 2500);
        }

        init();
    </script>
</body>
</html>
